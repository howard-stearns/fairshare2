<!DOCTYPE html>
<html>
  <head>
    <script type="importmap">
      { "comment": "Tells browser where to find each package, so that we do not need a build step.",
      	"imports": {
          "@kilroy-code/rules": "/@kilroy-code/rules/index.mjs",
          "@kilroy-code/ui-components": "/@kilroy-code/ui-components/index.mjs",
          "@material/web/": "/@material/web/",
          "tslib": "/tslib/tslib.es6.mjs",
          "lit": "/lit/index.js",
          "lit-html": "/lit-html/lit-html.js",
          "lit-html/": "/lit-html/",
          "lit/": "/lit/",
          "lit-element/": "/lit-element/",
          "@lit/reactive-element": "/@lit/reactive-element/reactive-element.js",
          "@lit/": "/@lit/"
	}
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <script type="module" src="script.js"></script>
    <style>
      app-firstuse, create-user, user-profile, switch-users, add-user, about-app, list-items, fairshare-pay, fairshare-invest, fairshare-payme { display: block; }
      *:not(:defined) { opacity: 0; }
      *:defined { transition: opacity 0.5s ease-out; }
      section { margin: 10pt; }
    </style>
  </head>
  <body>
    <fairshare-app>

      <fairshare-groups title="My Groups">
	<section>
	  <p>Or <fairshare-all-other-groups-menu-button></fairshare-all-other-groups-menu-button> <md-filled-button disabled>join</md-filled-button></p>
	  <p><i>Currently, the only thing happens when you select a group is that it appears in the url for <a href="#Pay Me">Payme</a> and <a href="#Invite someone">Invite someone</a>. But see <a href="https://howard-stearns.github.io/FairShare/app.html?user=alice&groupFilter=&group=apples&payee=carol&amount=10&investment=-50&currency=fairshare#groups"  target="fairshare-poc">proof of concept</a>.</i></p>
	</section>
	<p slot="empty">To join a group, you must <a href="#Create new account">create an account</a>.</p>
      </fairshare-groups>

      <fairshare-pay></fairshare-pay>

      <fairshare-invest></fairshare-invest>

      <fairshare-payme title="Pay Me">
	<div slot="qr" class="row">
	  <fairshare-amount></fairshare-amount>
	  <fairshare-groups-menu-button></fairshare-groups-menu-button>
	</div>
	<p slot="qr">Invite someone to pay you by having them scan this code with their phone.</p>
	<p slot="social">Or share this URL directly:</p>
      </fairshare-payme>

      <section title="About">
	<p>
	  <i><b>Under construction. For more information, see see <a href="https://howard-stearns.github.io/FairShare/" target="fairshare-poc">README.md</a>.</b></i>
	</p>
	<p>FairShare is payment program in which you set your own fees, which are then distributed to members.</p>
	<p>You can join any number of groups, which each have their own currency. The members of the group vote on:
	  <ol>
	    <li>allowing a candidate member, or ejecting an existing member</li>
	    <li>the transaction fee for the group</li>
	    <li>the amount of new money to mint and give to members as a basic daily income</li>
	  </ol>
	</p>
	<p>
	  You can pay people in your group directly, with the group's currency, and you will be charged the current average of the member's proposals for a transaction fee. The collected fee is taken out of circulation. Most groups will want to vote to make the fees offset the daily stipend.
	</p>
	<p>
	  You can pay people in other groups, too.
	</p>
	<p>
	  There is a video and a brief whitepaper at <a href="https://fairshare.social" target="fairshare">fairshare.social</a>.
	</p>
      </section>

      <user-profile title="Edit account" slot="user-menu"></user-profile>

      <switch-user title="Switch accounts" slot="user-menu">
	<p slot="empty">There are no accounts authorized for this browser. You can <a href="#Create new account">create a new account</a>, or <a href="#Add existing account">authorize one of your existing accounts</a> if you have one.</p>
      </switch-user>

      <fairshare-authorize-user title="Add existing account" slot="user-menu"></fairshare-authorize-user>

      <fairshare-create-user title="Create new account" slot="user-menu">
	<p>You can create multiple users/accounts, and switch between them with the user menu in the upper right corner of the app.</p>
	<p>This screen will create an additional account for you to use.</p>
      </fairshare-create-user>

      <fairshare-share slot="user-menu" title="Invite someone">
	<p slot="qr">Sign up another user to
	  <fairshare-groups-menu-button></fairshare-groups-menu-button>
	  <!-- <fairshare-group-chooser></fairshare-group-chooser> -->
	  by having them scan this code with their phone. (They will still have to be voted in by a majority of the group's members.)</p>
	<p slot="social">Or share the group's signup URL directly or on social media:</p>
      </fairshare-share>

      <list-divider></list-divider>

      <app-firstuse slot="first-use" title="Start fresh for playing">
	<fairshare-create-user>
	  <h2>Welcome!</h2>
	  <p>Creating a new account is free and no personal information is needed. Each new account is automatically added to the FairShare group.</p>
	  <p>Or, if you already have an account, you can authorize it for use in this browser <a href="#Add existing account">here</a>.</p>
	</fairshare-create-user>
      </app-firstuse>
    </fairshare-app>
  </body>
</html>
